# 1.5 스프링의 IoC
처음으로 스프링을 사용한다. 기존에 생성했던 `DaoFactory.java` 를 스프링에서 사용 가능 하도록 변경한다.
해당 예제에서는 자바 파일에서의 어노테이션 방식으로 스프링을 사용해 본다.  
아직 코드상에서 조금씩 변경된 어노테이션과 테스트 코드 변경을 제외하고는 기존 `DaoFactory.java` 를 사용할 때와 눈에 보이는 큰 호율성과 장점을 느끼기는 힘들지만 빠르게 앞서나갈 필요없다. 하지만 차이는 있다. 그 차이를 이해할 필요가 있고 그 이후에 다음 단계로 넘어가는 것이 좋을 것 같다.

## 파일 구성
- `com.andrewbae.spring.domain.*`: 자바빈 클래스
- `com.andrewbae.spring.dao.*`: DAO 클래스
- `com.andrewbae.spring.factory.*`: 팩토리 클래스 > 스프링에서 사용할 설정 정보
- `ConnectionMaker.java`: DB 커넥션 인터페이스
- `XConnectionMaker.java`: `ConnectionMaker.java` 구현 코드
- `UserDaoTest.java`: 테스트 코드

## 작업 사항
- `pom.xml` 스프링 라이브러리 추가
- `DaoFactory.java` 어노테이션 추가하여 IoC 적용
- 테스트 코드에서 애플리케이션 컨텍스트 사용

## 애플리케이션 컨텍스트 사용 장점
DaoFactory를 직접 사용했을 때보다 애플리케이션 컨텍스트를 사용했을 때 장점.

- **클라이언트는 구체적인 팩토리 클래스를 알 필요가 없다.**  
  - 필요할 때마다 팩토리 오브젝트를 생성할 필요 없다.
  - 오브젝트 팩토리를 직접 사용할 필요가 없이 일관된 방식으로 원하는 오브젝트를 가져올 수 있다.
  - XML로 IoC 설정정보를 만들 수도 있다.
- **애플리케이션 컨텍스트는 종합 IoC 서비스를 제공해 준다.**
  - 단순히 오브젝트 생성, 오브젝트와 관계설정 뿐만 아니라 오브젝트 생성 방식, 시점과 전략을 다르게 가져갈 수도 있다.
  - 자동생성, 후처리, 설정방식 다변화, 인터셉팅 등 다양한 기능을 제공한다.
  - 빈이 사용할 수 있는 기반기술 서비스나 외부 시스템 연동 등을 컨테이너 차원에서 제공한다.
- **애플리케이션 컨텍스트는 빈을 검색하는 다양한 방법을 제공한다.**
  - `getBean()` 메소드 사용
  - 타입만으로 빈 검색, 특별한 어노테이션 설정된 빈 검색 가능.

## 스프링 IoC 용어
|용어|설명|
|---|---|
|빈(bean)|또는 빈 오브젝트. 스피링이 IoC 방식으로 관리하는 오브젝트.|
|빈 팩토리(bean factory)|스프링의 IoC를 담당하는 핵심 컨테이너. 빈 등록, 생성, 조회 등 빈 관리.|
|애플리케이션 컨텍스트(application context)|빈 팩토리를 확장한 IoC 컨테이너. 스프링이 제공하는 각종 부가 서비스를 추가로 제공. `ApplicationContext`는 `BeanFactory`를 상속.|
|설정정보/설정 메타정보(configuration metadata)|애플리케이션 컨텍스트 or 빈 팩토리가 IoC 적용을 위해 사용하는 설정정보.|
|컨테이너(container) 또는 IoC 컨테이너|보통 애플리케이션 컨테이너나 빈 팩토리를 일컫는다.|
